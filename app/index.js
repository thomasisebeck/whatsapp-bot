import{pino as e}from"pino";import o,{useMultiFileAuthState as t,DisconnectReason as s}from"@whiskeysockets/baileys";e({level:"trace",transport:{targets:[{target:"pino-pretty",options:{colorize:!0},level:"trace"},{target:"pino/file",options:{destination:"./wa-logs.txt"},level:"trace"}]}}).level="trace";const n="27612266700";!async function i(){const{state:r,saveCreds:a}=await t("auth"),c=o({auth:r,printQRInTerminal:!1,logger:e({level:"info"}),browser:["Ubuntu","Chrome","20.0.04"]});c.ev.on("creds.update",a),c.ev.on("messages.upsert",async e=>{if("notify"===e.type)for(const o of e.messages){const e=(o.message?.conversation||o.message?.extendedTextMessage?.text)?.toLowerCase(),t=o.key.remoteJid,s=e?.includes("instagram.com/reel/"),n=e?.includes("youtube.com/shorts/"),i=["Time isn’t the main thing. It’s the only thing.","Take a deep breath.","How we spend our days, is, of course, how we spend our lives.","This minute is yours.","You’re allowed to be bored.","Your thumb is working harder than your brain.","Choose presence.","Choose intention.","Choose depth.","Choose focus.","Choose stillness.","Just checking in with reality.","Still here? Take a breath.","Plot twist: there’s another reel after this.","Your future self says hi.","Take a moment. Notice your breathing.","Check in with your posture.","Slow your breathing, just a little.","Feel your feet on the ground.","Notice the room around you.","You’re here.","Take one conscious breath."],r=e?.toLowerCase().includes("i am aware");if((s||n)&&!r){const e=i[Math.floor(Math.random()*i.length)];console.log("FILTERING BANNED CONTENT"),await c.chatModify({deleteForMe:{key:o.key,deleteMedia:!0,timestamp:Number(o.messageTimestamp)}},t),await c.sendMessage(t,{text:`"${e}"\n\nhttps://www.sciencedirect.com/science/article/pii/S2405844024063771\nhttps://pmc.ncbi.nlm.nih.gov/articles/PMC11066677/\nhttps://www.youtube.com/watch?v=d43tivfx0qw`})}}}),c.ev.on("connection.update",async e=>{const{connection:o,lastDisconnect:t}=e;if("close"===o){console.log("CONNECTION IS CLOSED, ATTEMPTING TO RECONNECT...");t?.error?.output?.statusCode!==s.loggedOut&&i()}else"open"===o&&console.log("✅ Connection fully open!")}),c.authState.creds.registered||(console.log(`Waiting for registration system to initialize for ${n}...`),setTimeout(async()=>{try{const e=await c.requestPairingCode(n);console.log("\n--------------------------"),console.log(`YOUR PAIRING CODE: ${e}`),console.log("--------------------------\n")}catch(e){console.error("Critical error requesting pairing code:",e)}},5e3))}();
